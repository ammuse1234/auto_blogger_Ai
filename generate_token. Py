import requests

# Ø¹Ø¨ÙŠ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ Ù‡Ù†Ø§ Ù…Ù† Ù…Ù„Ù Google OAuth JSON
CLIENT_ID = '151889146614-7eptmsrvdscebhn150pk2boo4nui2ac6.apps.googleusercontent.com'
CLIENT_SECRET = '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'
REDIRECT_URI = 'urn:ietf:wg:oauth:2.0:oob'

# Ø±Ø§Ø¨Ø· ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ ÙˆØ¥Ø¹Ø·Ø§Ø¡ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ©
auth_url = (
    'https://accounts.google.com/o/oauth2/v2/auth'
    '?response_type=code'
    f'&client_id={CLIENT_ID}'
    f'&redirect_uri={REDIRECT_URI}'
    '&scope=https://www.googleapis.com/auth/blogger'
    '&access_type=offline'
    '&prompt=consent'
)

print('ğŸ”— Ø§Ù†Ø³Ø® Ù‡Ø°Ø§ Ø§Ù„Ø±Ø§Ø¨Ø· ÙˆØ§ÙØªØ­Ù‡ ÙÙŠ Ø§Ù„Ù…ØªØµÙØ­:')
print(auth_url)

# Ù‡Ù†Ø§ ØªÙ„ØµÙ‚ ÙƒÙˆØ¯ Ø§Ù„ØªÙÙˆÙŠØ¶ Ø§Ù„Ù„ÙŠ ÙŠØ¹Ø·ÙŠÙƒ Ø¥ÙŠØ§Ù‡ Google
auth_code = input('ğŸ“¥ Ø§Ù„ØµÙ‚ Ø§Ù„ÙƒÙˆØ¯ Ù…Ù† Ø§Ù„Ù…ØªØµÙØ­ Ù‡Ù†Ø§: ').strip()

# Ø·Ù„Ø¨ Ø§Ù„ØªÙˆÙƒÙ† Ù…Ù† Google
token_url = 'https://oauth2.googleapis.com/token'

data = {
    'code': auth_code,
    'client_id': CLIENT_ID,
    'client_secret': CLIENT_SECRET,
    'redirect_uri': REDIRECT_URI,
    'grant_type': 'authorization_code'
}

# Ù†Ø±Ø³Ù„ Ø§Ù„Ø·Ù„Ø¨ ÙˆÙ†Ø·Ø¨Ø¹ Ø§Ù„Ù†Ø§ØªØ¬
response = requests.post(token_url, data=data)
tokens = response.json()

if 'refresh_token' in tokens:
    print('\nâœ… Ù‡Ø°Ø§ Ù‡Ùˆ REFRESH_TOKEN Ø­Ù‚Ùƒ:')
    print(tokens['refresh_token'])
else:
    print('\nâŒ Ù…Ø§ Ø·Ù„Ø¹ Ø§Ù„ØªÙˆÙƒÙ†. Ù‡Ø°Ø§ Ø§Ù„Ø±Ø¯ Ù…Ù† Ø§Ù„Ø³ÙŠØ±ÙØ±:')
    print(tokens)
